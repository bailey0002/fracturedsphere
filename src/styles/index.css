@tailwind base;
@tailwind components;
@tailwind utilities;

/* CSS Variables */
:root {
  --color-void: #0a0a0f;
  --color-steel: #2a2a3a;
  --color-steel-light: #8a9baa;
  --color-continuity: #4a7c9b;
  --color-ascendant: #c4a35a;
  --color-collective: #9b4a4a;
  --color-reclaimers: #4a9b6b;
}

/* Base styles */
* {
  box-sizing: border-box;
}

html {
  font-size: 16px;
}

body {
  @apply bg-void-950 text-steel-bright font-body;
  min-height: 100vh;
  overflow: hidden;
}

/* iOS scroll fix */
.-webkit-overflow-scrolling-touch {
  -webkit-overflow-scrolling: touch;
}

/* Atmospheric background */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  opacity: 0.03;
  pointer-events: none;
  z-index: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
}

/* Scan line effect overlay */
body::after {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1000;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0, 0, 0, 0.03) 2px,
    rgba(0, 0, 0, 0.03) 4px
  );
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--color-void);
}

::-webkit-scrollbar-thumb {
  background: var(--color-steel);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-steel-light);
}

/* Panel styling */
.panel {
  @apply relative p-4 rounded border transition-all duration-300;
  background: rgba(26, 26, 36, 0.9);
  border-color: rgba(138, 155, 170, 0.2);
  backdrop-filter: blur(8px);
}

.panel::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(90deg, transparent, rgba(138, 155, 170, 0.3), transparent);
}

.panel-header {
  @apply font-display text-sm tracking-widest uppercase text-steel-light mb-4;
}

/* Button styles */
.btn {
  @apply px-4 py-2 font-display text-xs tracking-wider uppercase rounded;
  @apply border transition-all duration-200;
  @apply active:scale-95;
}

.btn-primary {
  @apply btn;
  @apply bg-steel text-steel-bright border-steel-light/30;
  @apply hover:bg-steel-light/20 hover:border-steel-light/50;
}

.btn-danger {
  @apply btn;
  @apply bg-danger/20 text-danger border-danger/30;
  @apply hover:bg-danger/30 hover:border-danger/50;
}

.btn-success {
  @apply btn;
  @apply bg-success/20 text-success border-success/30;
  @apply hover:bg-success/30 hover:border-success/50;
}

.btn-faction {
  @apply btn;
  @apply bg-transparent border-current;
}
.btn-faction:hover {
  background-color: rgba(138, 155, 170, 0.1);
}

/* Hex grid styles */
.hex-grid {
  @apply relative;
}

.hex-tile {
  @apply cursor-pointer transition-all duration-200;
  filter: brightness(1);
}

.hex-tile:hover {
  filter: brightness(1.2);
}

.hex-tile.selected {
  filter: brightness(1.3) drop-shadow(0 0 8px currentColor);
}

.hex-tile.fog {
  filter: brightness(0.3) saturate(0.3);
}

.hex-tile.unexplored {
  filter: brightness(0.1) saturate(0);
}

/* Resource bar */
.resource-bar {
  @apply h-1 rounded overflow-hidden;
  background: rgba(138, 155, 170, 0.2);
}

.resource-bar-fill {
  @apply h-full transition-all duration-300;
}

/* Turn phase indicator */
.phase-indicator {
  @apply flex gap-1;
}

.phase-dot {
  @apply w-2 h-2 rounded-full transition-all duration-300;
  background: rgba(138, 155, 170, 0.3);
}

.phase-dot.active {
  @apply scale-125;
  background: currentColor;
  box-shadow: 0 0 8px currentColor;
}

.phase-dot.completed {
  background: rgba(138, 155, 170, 0.6);
}

/* Faction colors as utilities */
.text-faction-continuity { color: var(--color-continuity); }
.text-faction-ascendant { color: var(--color-ascendant); }
.text-faction-collective { color: var(--color-collective); }
.text-faction-reclaimers { color: var(--color-reclaimers); }

.bg-faction-continuity { background-color: var(--color-continuity); }
.bg-faction-ascendant { background-color: var(--color-ascendant); }
.bg-faction-collective { background-color: var(--color-collective); }
.bg-faction-reclaimers { background-color: var(--color-reclaimers); }

.border-faction-continuity { border-color: var(--color-continuity); }
.border-faction-ascendant { border-color: var(--color-ascendant); }
.border-faction-collective { border-color: var(--color-collective); }
.border-faction-reclaimers { border-color: var(--color-reclaimers); }

/* Unit icon styling */
.unit-icon {
  @apply transition-transform duration-200;
}

.unit-icon:hover {
  @apply scale-110;
}

/* Tooltip */
.tooltip {
  @apply absolute z-50 px-3 py-2 rounded text-xs;
  @apply bg-void-900 border border-steel-light/30;
  @apply shadow-lg shadow-void-950/50;
  @apply animate-fade-in;
}

/* Modal overlay */
.modal-overlay {
  @apply fixed inset-0 z-50 flex items-center justify-center;
  @apply bg-void-950/80 backdrop-blur-sm;
  @apply animate-fade-in;
}

.modal-content {
  @apply relative max-w-lg w-full mx-4 p-6 rounded-lg;
  @apply bg-void-900 border border-steel-light/30;
  @apply shadow-2xl shadow-void-950/50;
  @apply animate-slide-up;
}

/* Glow effects */
.glow-sm { box-shadow: 0 0 10px currentColor; }
.glow-md { box-shadow: 0 0 20px currentColor; }
.glow-lg { box-shadow: 0 0 40px currentColor; }

/* Status indicators */
.status-dot {
  @apply w-2 h-2 rounded-full;
}

.status-dot.online {
  @apply bg-success animate-pulse;
}

.status-dot.warning {
  @apply bg-warning animate-pulse;
}

.status-dot.danger {
  @apply bg-danger animate-pulse;
}

/* Grid pattern background */
.grid-bg {
  background-image: 
    linear-gradient(rgba(138, 155, 170, 0.03) 1px, transparent 1px),
    linear-gradient(90deg, rgba(138, 155, 170, 0.03) 1px, transparent 1px);
  background-size: 20px 20px;
}

/* Selection highlight */
@keyframes selectionPulse {
  0%, 100% { 
    stroke-opacity: 0.8;
    stroke-width: 2;
  }
  50% { 
    stroke-opacity: 1;
    stroke-width: 3;
  }
}

.hex-selected-ring {
  animation: selectionPulse 1.5s ease-in-out infinite;
}
